<mat-tab-group class="p-4" [(selectedIndex)]="currentTabIndex">
  <mat-tab>
    <ng-template mat-tab-label>
      Geral
      <mat-icon
        class="red-circle-icon"
        color="warn"
        *ngIf="isInEditMode && !generalInformationValid">circle</mat-icon>
    </ng-template>

    <app-general-informations
      *ngIf="!isInEditMode"
      [user]="userSelected"></app-general-informations>
    <!-- O userForm é declarado no controller que é estendido no componente. -->
    <app-general-informations-edit
      *ngIf="isInEditMode"
      [userForm]="userForm"
      [countriesList]="countriesList"
      [statesList]="statesList"
      (countrySelectedEmit)="countrySelectedEmit($event)"></app-general-informations-edit>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      Contato
      <mat-icon
        class="red-circle-icon"
        color="warn"
        *ngIf="isInEditMode && !contactInformationsValid">circle</mat-icon>
    </ng-template>

    <app-contact-informations
      *ngIf="!isInEditMode"
      [user]="userSelected"></app-contact-informations>

    <app-contact-informations-edit
      *ngIf="isInEditMode"
      [userForm]="userForm"></app-contact-informations-edit>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      Dependente
      <mat-icon
        class="red-circle-icon"
        color="warn"
        *ngIf="isInEditMode && !dependentsListValid">circle</mat-icon>
    </ng-template>

    <app-dependents-list
      *ngIf="!isInEditMode"
      [dependentList]="userSelected.dependentsList"
    ></app-dependents-list>
    <app-dependents-list-edit
      *ngIf="isInEditMode"
      [userForm]="userForm"
      (onRemoveDependent)="removeDependent($event)"
      (onAddDependent)="addDependent()"></app-dependents-list-edit>
  </mat-tab>
</mat-tab-group>

<button (click)="mostraForm()">Mostra Form</button>

